ability = {
	artillery_barrage = {
		name = ARTILLERY_BARRAGE
		desc = ARTILLERY_BARRAGE_DESC
		sound_effect = command_power_ability_offensive
		
		type = army_leader
		
		allowed = {
			is_leading_army_group = no
			is_border_war = no
			
			check_variable = {
			avg_unit_planning_ratio > 0.5 
			}
			
			OWNER = {
				OR = {
					has_tech = kampfgruppe
					has_tech = sup_delay
					has_tech = grand_battle_plan
					has_tech = large_front_operations					
				}
				
			}
		}
		
		cost = 0.05
		duration = 168

			unit_modifiers = {
			army_artillery_attack_factor = 2
			army_artillery_defence_factor = 3
			supply_consumption_factor = 0.5
			army_speed_factor = -0.4
			}
		
		
		ai_will_do = {
			factor = -1
			modifier = {
				FROM = {
					command_power > 1.5
				}
				check_variable = { num_units_offensive_combats > 6 }
				
				set_temp_variable = { temp = avg_offensive_combat_status }
				check_variable = { temp > 0.45 }
				check_variable = { ai_random > temp }
				
				add = 2
			}
		}	
	}
}

